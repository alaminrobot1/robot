<!DOCTYPE html>
<html>
<head>
    <title>Arbitrage Opportunities</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Arbitrage Opportunities</h1>

    <div class="engine">
        <h2>Arbitrage Engine</h2>
        <form action="/calculate" method="post">
            <label for="exchange1">Select Exchange 1:</label>
            <select name="exchange1" id="exchange1">
                <option value="gateio">Gate.io</option>
                <option value="mexc">MEXC</option>
                <!-- Add more options for other exchanges if needed -->
            </select>
            <br>
            <label for="exchange2">Select Exchange 2:</label>
            <select name="exchange2" id="exchange2">
                <option value="gateio">Gate.io</option>
                <option value="mexc">MEXC</option>
                <!-- Add more options for other exchanges if needed -->
            </select>
            <br>
            <input type="submit" value="Calculate Arbitrage">
        </form>
    </div>

    <div class="counts">
        <div class="count">
            <span class="label">Positive Count:</span>
            <span class="value">{{ positive_count }}</span>
        </div>
        <div class="count">
            <span class="label">Negative Count:</span>
            <span class="value">{{ negative_count }}</span>
        </div>
        <div class="count">
            <span class="label">Total Opportunities:</span>
            <span class="value">{{ positive_count + negative_count }}</span>
        </div>
    </div>

    <table>
        <thead>
            <tr>
                <th>Symbol</th>
                <th>Exchange 1 Price</th>
                <th>Exchange 2 Price</th>
                <th>Arbitrage (%)</th>
                <th>Exchange 1 Trade Link</th>
                <th>Exchange 2 Trade Link</th>
            </tr>
        </thead>
        <tbody>
            {% for item in data %}
                <tr>
                    <td>{{ item.symbol }}</td>
                    <td>{{ item.exchange1_price }}</td>
                    <td>{{ item.exchange2_price }}</td>
                    <td class="arbitrage">{{ item.arbitrage }}</td>
                    <td><a href="{{ item.exchange1_trade_link }}" target="_blank">Exchange 1</a></td>
                    <td><a href="{{ item.exchange2_trade_link }}" target="_blank">Exchange 2</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <div id="arrow-key"></div>
    
    <div id="color-picker">
        <input type="color" id="selected-color" value="#ff0000">
    </div>
    
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
